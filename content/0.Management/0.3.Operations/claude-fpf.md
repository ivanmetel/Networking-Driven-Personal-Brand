---
type: process
status: active
created: 2026-01-07
updated: 2026-01-07
system: "Management"
role: "Operations"
layer: operations
scope: local-edge
target_audience: [ai-agents, contributors]
related:
  - workflows.md
  - document-creation.md
  - ../../../CLAUDE.md
  - ../../../.fpf/INDEX.md
fpf_principles:
  - practicality
  - systemic-thinking
fpf_patterns:
  - A.1      # Holonic Foundation
  - A.1.1    # Bounded Context
  - B.3      # Trust Calculus
---

# Claude Code и FPF: интеграция

## Назначение документа

Описание интеграции Claude Code с First Principles Framework (FPF) и правила работы AI-агента с хранилищем.

## Архитектура контекста

При каждом запросе Claude получает контекст из нескольких источников:

```
┌─────────────────────────────────────────────────────────┐
│                    Контекст Claude                       │
├─────────────────────────────────────────────────────────┤
│  1. Системный промпт          (~базовые инструкции)     │
│  2. CLAUDE.md                 (~2K токенов)             │
│  3. История диалога           (переменная)              │
│  4. Текущий запрос            (задача пользователя)     │
│  5. [Опционально] Файлы проекта                         │
└─────────────────────────────────────────────────────────┘
```

## Использование FPF

### Иерархия файлов FPF

| Файл | Размер | Использование |
|------|--------|---------------|
| `.fpf/INDEX.md` | ~250 строк | Локальные принципы. Используй всегда |
| `.fpf/FPF-Spec.md` | ~43K строк | Полная спецификация. Загружай по частям |
| `.fpf/FPF-Readme.md` | ~100 строк | Обзор. Для быстрого понимания |

### Стратегия экономии токенов

**Для обычных задач:**
```
Читай: CLAUDE.md + .fpf/INDEX.md
Расход: ~3K токенов
```

**Для глубокого анализа:**
```
Читай: CLAUDE.md + конкретные части FPF-Spec.md
Расход: 5-50K токенов (в зависимости от части)
```

**Навигация по FPF-Spec.md:**

| Часть | Строки | Тема | Когда нужна |
|-------|--------|------|-------------|
| Part A | 500-8000 | Kernel | Структура, роли, холоны |
| Part B | 8000-15000 | Reasoning | Агрегация, доверие |
| Part C | 15000-25000 | Calculi | Доменные расчёты |
| Part E | 28000-33000 | Authoring | Создание паттернов |
| Part F | 33000-38000 | Unification | Мосты, терминология |
| Part G | 38000-43000 | SoTA | Передовые практики |

### Примеры запросов к FPF

**Загрузить конкретный паттерн:**
```
Загрузи паттерн A.15 (Role-Method-Work Alignment) из FPF-Spec.md
```

**Найти релевантные паттерны:**
```
Найди в FPF-Spec.md паттерны для: trust, evidence, assurance
```

**Применить принцип:**
```
Проверь документ X на соответствие паттерну A.7 (Strict Distinction)
```

## Ключевые концепции для Claude

### 1. Холонический подход (A.1)

Каждый документ — холон: целое само по себе и часть большей системы.

**Применение:**
- Указывай `related` для связей
- Учитывай контекст папки
- Поддерживай целостность системы

### 2. Ограниченные контексты (A.1.1)

Значение термина определяется контекстом (папкой).

**Применение:**
- Не переноси термины без явного моста
- Проверяй глоссарий перед использованием термина
- Документируй различия в понимании

### 3. Строгое различение (A.7)

| Путаница | Правильно |
|----------|-----------|
| Документ "делает" | Система делает, документ описывает |
| Роль = Человек | Роль — функция, человек — исполнитель |
| План = Реальность | План (WorkPlan) ≠ Выполнение (Work) |

### 4. F-G-R доверие (B.3)

При оценке информации:
- **F (Formality):** Насколько строго? (0-9)
- **G (Scope):** Где применимо?
- **R (Reliability):** Насколько надёжно? (0.0-1.0)

## Задачи Claude

### Разрешённые действия

- Создание документов по шаблонам
- Рефакторинг по запросу
- Проверка соответствия FPF
- Анализ структуры и связей
- Предложение улучшений

### Требующие подтверждения

- Удаление документов
- Изменение структуры папок
- Модификация `.fpf/INDEX.md`
- Изменения в `CLAUDE.md`

### Запрещённые действия

- Принятие стратегических решений без человека
- Создание документов "на будущее"
- Игнорирование FPF-принципов

## Типовые сценарии

### Сценарий 1: Создание документа

```
1. Определить систему и роль
2. Проверить существующие документы (нет дублей?)
3. Использовать шаблон из README папки
4. Заполнить frontmatter
5. Указать related
6. Применить FPF-принципы
```

### Сценарий 2: Анализ структуры

```
1. Прочитать README разделов
2. Построить карту связей
3. Найти:
   - Документы без связей ("сироты")
   - Дублирование контента
   - Нарушения SRT-структуры
4. Предложить улучшения
```

### Сценарий 3: Проверка соответствия FPF

```
1. Загрузить релевантные паттерны FPF
2. Проверить документ по чек-листу:
   - A.1: Документ — часть системы?
   - A.1.1: Термины в контексте?
   - A.7: Строгое различение соблюдено?
   - B.3: Метаданные формируют F-G-R?
3. Предложить исправления
```

## Обновление FPF-Spec.md

### Процедура (Mac/Linux)

```bash
curl -sL "https://raw.githubusercontent.com/ailev/FPF/main/FPF-Spec.md" \
  -o .fpf/FPF-Spec.md
```

### Процедура (Windows PowerShell)

```powershell
Invoke-WebRequest -Uri "https://raw.githubusercontent.com/ailev/FPF/main/FPF-Spec.md" `
  -OutFile ".fpf/FPF-Spec.md"
```

## Changelog

| Дата | Изменение | Автор |
|------|-----------|-------|
| 2026-01-07 | Создание документа | Claude |

## Связанные документы

- [CLAUDE.md](../../../CLAUDE.md) — главные инструкции
- [.fpf/INDEX.md](../../../.fpf/INDEX.md) — локальные принципы
- [.fpf/FPF-Spec.md](../../../.fpf/FPF-Spec.md) — полная спецификация
- [Процессы работы](workflows.md)
