# First Principles Framework (FPF)

Индекс фундаментальных принципов проекта. Эти принципы являются основой для принятия решений и создания решений.

## О FPF

First Principles Framework — это набор базовых, фундаментальных принципов, из которых выводятся все остальные решения в проекте. Вместо копирования паттернов, мы рассуждаем от первопринципов.

## Как использовать

1. **При создании нового решения:** проверьте, какие принципы применимы
2. **При возникновении проблемы:** вернитесь к принципам для поиска решения
3. **При рефакторинге:** убедитесь, что новый код соответствует принципам
4. **При добавлении принципа:** убедитесь, что он фундаментален и переиспользуем

## Категории принципов

### 1. Методологические принципы

#### minimalism

**Описание:** Создавать только необходимое, избегать избыточности

**Обоснование:** Каждая строка кода/текста требует поддержки. Минимализм снижает когнитивную нагрузку и упрощает сопровождение.

**Применение:**
- Код: не добавлять функциональность "на будущее"
- Документация: не описывать очевидное
- Структура: не создавать пустые папки и файлы

**Примеры:**
- Создание документа только когда есть что сказать
- Удаление неиспользуемого кода
- Объединение дублирующихся разделов

#### practicality

**Описание:** Фокус на применимых, работающих решениях

**Обоснование:** Теория без практики бесполезна. Все решения должны решать реальные задачи.

**Применение:**
- Код: рабочие примеры вместо абстрактных концепций
- Документация: инструкции "как сделать" вместо "что это такое"
- Дизайн: решения, которые можно реализовать сейчас

**Примеры:**
- Рабочий код в примерах документации
- Пошаговые инструкции по настройке
- Приоритет MVP над идеальным решением

#### systemic-thinking

**Описание:** Рассматривать систему целиком, учитывать связи

**Обоснование:** Изменение части влияет на целое. Системный подход предотвращает локальные оптимизации, ухудшающие систему.

**Применение:**
- Архитектура: учитывать взаимодействие компонентов
- Документация: указывать связи между документами
- Изменения: проверять влияние на всю систему

**Примеры:**
- Поле `related` в frontmatter документов
- Проверка зависимостей перед удалением
- Трассировка изменений через все слои системы

### 2. Организационные принципы

#### srt-structure

**Описание:** Организация через таблицу Систем-Ролей (3×3)

**Обоснование:** SRT обеспечивает структурированное, но гибкое размещение знаний. Каждый документ имеет чёткое место.

**Применение:**
- Определить систему: Management/Supersystem/TargetSystem/CreationSystem
- Определить роль: Meaning/Architecture/Operations
- Разместить в `content/{N}.{System}/{N}.{M}.{Role}/`

**Примеры:**
- Требования продукта → `2.TargetSystem/2.1.Meaning/`
- Архитектура API → `2.TargetSystem/2.2.Architecture/`
- Процесс деплоя → `3.CreationSystem/3.3.Operations/`

#### metadata-first

**Описание:** YAML frontmatter для всех документов в content/

**Обоснование:** Метаданные позволяют автоматизировать поиск, связывание и валидацию документов.

**Применение:**
- Обязательные поля: `system`, `role`, `title`, `date`
- Рекомендуемые: `tags`, `related`, `fpf_principles`
- Опциональные: `author`, `status`, `version`

**Примеры:**
```yaml
---
system: "TargetSystem"
role: "Architecture"
title: "Database Schema"
date: "2026-01-07"
tags: [database, postgresql, schema]
related:
  - ../2.1.Meaning/data-requirements.md
fpf_principles:
  - normalization
  - idempotency
---
```

### 3. Технические принципы

#### clarity

**Описание:** Код и документация должны быть понятными

**Обоснование:** Ясность критична для поддержки и развития. Непонятный код — технический долг.

**Применение:**
- Имена: описательные, без сокращений
- Структура: логичная, с явными зависимостями
- Комментарии: объясняют "почему", не "что"
- Документация: для целевой аудитории

**Примеры:**
- `calculateUserDiscount()` вместо `calcUD()`
- Комментарий "Используем кеш для снижения нагрузки на БД" вместо "Кеш включен"
- README с примерами использования

#### idempotency

**Описание:** Повторное выполнение операции даёт тот же результат

**Обоснование:** Идемпотентность упрощает восстановление после сбоев и делает систему предсказуемой.

**Применение:**
- API: PUT/DELETE идемпотентны
- Скрипты: можно запускать повторно
- Миграции: проверяют состояние перед изменением

**Примеры:**
- `CREATE TABLE IF NOT EXISTS`
- HTTP PUT обновляет ресурс к заданному состоянию
- Скрипт настройки проверяет, не настроено ли уже

### 4. Качественные принципы

#### incremental-improvement

**Описание:** Развивать систему постепенно, малыми шагами

**Обоснование:** Большие изменения рискованны. Инкрементальный подход снижает риск и упрощает откат.

**Применение:**
- Разработка: маленькие PR, частые коммиты
- Документация: дополнять по мере необходимости
- Рефакторинг: поэтапный, с проверкой на каждом шаге

**Примеры:**
- Добавить функцию → протестировать → задеплоить
- Обновить раздел документации вместо переписывания всего
- Рефакторинг одного модуля за раз

#### continuous-validation

**Описание:** Постоянная проверка корректности и актуальности

**Обоснование:** Без проверки система деградирует. Постоянная валидация поддерживает качество.

**Применение:**
- Код: тесты, линтеры, CI/CD
- Документация: review, проверка ссылок
- Данные: валидация схемы, constraints

**Примеры:**
- Автоматические тесты на каждый PR
- Pre-commit хуки для проверки frontmatter
- Периодический аудит документации на актуальность

## Добавление новых принципов

### Критерии добавления

Принцип должен быть:
1. **Фундаментальным:** базовым, не выводимым из других
2. **Переиспользуемым:** применимым в разных контекстах
3. **Действенным:** влияющим на конкретные решения
4. **Устойчивым:** не меняющимся со временем

### Процесс добавления

1. Создайте Pull Request с описанием принципа
2. Обоснуйте, почему это первопринцип
3. Приведите примеры применения
4. Дождитесь обсуждения и одобрения
5. Обновите связанные документы

### Шаблон принципа

```markdown
#### principle-key

**Описание:** Краткое описание (1-2 предложения)

**Обоснование:** Почему этот принцип фундаментален

**Применение:**
- Контекст 1: как применять
- Контекст 2: как применять
- Контекст 3: как применять

**Примеры:**
- Пример 1 с ссылкой на документ
- Пример 2 с ссылкой на код
- Пример 3 с описанием
```

## Связь с SRT

Принципы FPF применяются во всех ячейках SRT-таблицы:

```
                 Meaning          Architecture      Operations
Management       [FPF]            [FPF]             [FPF]
Supersystem      [FPF]            [FPF]             [FPF]
TargetSystem     [FPF]            [FPF]             [FPF]
CreationSystem   [FPF]            [FPF]             [FPF]
```

Каждый документ должен:
1. Соответствовать релевантным принципам FPF
2. Указывать применяемые принципы в `fpf_principles`
3. Быть примером применения принципов

## История изменений

- **2026-01-07:** Создание начального индекса с базовыми принципами

## Ссылки

- [README.md](../README.md) — описание SRT-метода
- [CLAUDE.md](../CLAUDE.md) — интеграция FPF с Claude Code
- [CONTRIBUTING.md](../CONTRIBUTING.md) — правила работы с FPF
